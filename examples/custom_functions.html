<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Manually Registering Functions &#8212; Python-Skill Bridge  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Directly call function objects" href="funcall.html" />
    <link rel="prev" title="Create some paths" href="create_path.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="manually-registering-functions">
<h1>Manually Registering Functions<a class="headerlink" href="#manually-registering-functions" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">skillbridge</span></code> will only export functions that are documented in
the running Virtuoso instance. If you need functions that are not documented there
but still exist, you can register them manually.
There are two methods for this either with the prefix method which is a clean way to
categorize and define the function. Since some skill function definitions do not follow
the default camel case naming conventions or have not prefix, we also provide a way
to specify the function name.</p>
<section id="prefix-register-method">
<h2>Prefix register method<a class="headerlink" href="#prefix-register-method" title="Link to this heading">¶</a></h2>
<p>Let’s take a look at the following example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@ws</span><span class="o">.</span><span class="n">register</span>
<span class="k">def</span><span class="w"> </span><span class="nf">dbCheck</span><span class="p">(</span><span class="n">d_cellview</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A docstring</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>This will register the function <code class="docutils literal notranslate"><span class="pre">dbCheck</span></code> which takes a single argument <code class="docutils literal notranslate"><span class="pre">d_cellview</span></code>
and returns <code class="docutils literal notranslate"><span class="pre">nil</span></code>. You may also write the function name in snake case: <code class="docutils literal notranslate"><span class="pre">db_check</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must provide a return type annotation. Use <code class="docutils literal notranslate"><span class="pre">None</span></code> if you don’t know the type
or are unsure. You also must provide a doc string which describes what the function
actually does.</p>
</div>
<p>There are three ways to specify arguments.</p>
<ol class="arabic simple">
<li><p>Positional, required arguments by naming the python parameter accordingly</p></li>
<li><p>Positional, optional arguments by adding the type annotation <code class="docutils literal notranslate"><span class="pre">Optional</span></code></p></li>
<li><p>Keyword arguments by assigning a name to the variable</p></li>
</ol>
<p>The next example shows all three uses</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>

<span class="nd">@ws</span><span class="o">.</span><span class="n">register</span>
<span class="k">def</span><span class="w"> </span><span class="nf">myFunction</span><span class="p">(</span><span class="n">required</span><span class="p">,</span> <span class="n">optional</span><span class="p">:</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s2">&quot;someName&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;someReturnValue&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A nice doc string, that explains the function</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>You can use the function like this:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">my</span><span class="o">.</span><span class="n">function</span>
<span class="go">&lt;remote function &#39;myFunction&#39;&gt;</span>
<span class="go">myFunction(</span>
<span class="go">    required</span>
<span class="go">    [ optional ]</span>
<span class="go">    [ ?someName keyword ]</span>
<span class="go">=&gt; someReturnValue</span>
<span class="go">A nice doc string, that explains the function</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Obviously this only <strong>registers</strong> the function, but it does not define it
in Skill. If you actually call <code class="docutils literal notranslate"><span class="pre">myFunction</span></code> you will get the error:</p>
<p><code class="docutils literal notranslate"><span class="pre">undefined</span> <span class="pre">function</span> <span class="pre">myFunction</span></code></p>
</div>
</section>
<section id="direct-method">
<h2>Direct method<a class="headerlink" href="#direct-method" title="Link to this heading">¶</a></h2>
<p>In this example the skill method load is directly called.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">skillbrige</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workspace</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Workspace</span><span class="p">()</span>
<span class="n">ws</span><span class="p">[</span><span class="s1">&#39;load&#39;</span><span class="p">](</span><span class="s1">&#39;exmapleFile.il&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us say you have a SKILL function called <code class="docutils literal notranslate"><span class="pre">myFunction_def</span></code>.
You can call it in python like this. Pay attention this function must be
defined exist in your Virtuoso instance.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">skillbrige</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workspace</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Workspace</span><span class="p">()</span>
<span class="n">ws</span><span class="p">[</span><span class="s1">&#39;myFunction_def&#39;</span><span class="p">](</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keep in mind that the functions you get this way behave exactly like the functions from the
prefix method, including keyword arguments.</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Python-Skill Bridge</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic.html">Basic Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_path.html">Create some paths</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Manually Registering Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="funcall.html">Directly call function objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="globals.html">Global Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="inst-statistics.html">Layout Inst Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="lazy_lists.html">Handling Large Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib_save.html">Check/Save Libs</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple-instances.html">Multiple Virtuoso Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="raw.html">Disable camelCase translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tables_vectors.html">Tables and Vectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Examples</a><ul>
      <li>Previous: <a href="create_path.html" title="previous chapter">Create some paths</a></li>
      <li>Next: <a href="funcall.html" title="next chapter">Directly call function objects</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2019, Niels Buwen.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/examples/custom_functions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>